{"version":3,"sources":["/Users/macbook/projects/solar-components/core/dist/esm-es5/ac-portal.entry.js","/Users/macbook/projects/solar-components/core/dist/esm-es5/component-behavior-989d398a.js","/Users/macbook/projects/solar-components/core/dist/esm-es5/portal-behavior-f5496846.js","/Users/macbook/projects/solar-components/core/dist/esm-es5/transition-behavior-c26f5eb3.js"],"names":["AcPortal","hostRef","this","portalBehavior","transitionBehavior","prototype","componentWillLoad","componentDidUnload","Object","defineProperty","get","enumerable","configurable","extendMethod","target","method","extend","original","patchList","push","lastResult","args","_i","arguments","length","_a","patchList_1","patch","bind","ComponentBehavior","component","_this","beforeAttach","native","console","warn","host","remove","Element","apply","setTimeout","componentDidLoad","attach","detach","extendStatics","__extends","d","b","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","create","PortalBehavior","_super","call","customRender","vchildren","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","Symbol","iterator","n","v","op","TypeError","pop","animate","element","declaredTransition","window","getComputedStyle","transition","match","duration","forEach","dur","time","startsWith","endsWith","parseInt","parseFloat","cssDurationToMilis","res","addStyle","style","assign","wait","delay","TransitionBehavior","removeIsQueued","classList","add","componentWillEnter","replace","customRemoveFn","allChildren","getElementsByClassName","all","from","map","child","componentWillLeave"],"mappings":"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","file":"static/js/51.73e1bb6e.js","sourcesContent":["import { r as registerInstance, g as getElement } from './core-15293804.js';\nimport './component-behavior-989d398a.js';\nimport { T as TransitionBehavior } from './transition-behavior-c26f5eb3.js';\nimport { P as PortalBehavior } from './portal-behavior-f5496846.js';\nvar AcPortal = /** @class */ (function () {\n    function AcPortal(hostRef) {\n        registerInstance(this, hostRef);\n        this.portalBehavior = new PortalBehavior(this);\n        this.transitionBehavior = new TransitionBehavior(this);\n    }\n    AcPortal.prototype.componentWillLoad = function () { };\n    AcPortal.prototype.componentDidUnload = function () { };\n    Object.defineProperty(AcPortal.prototype, \"host\", {\n        get: function () { return getElement(this); },\n        enumerable: true,\n        configurable: true\n    });\n    return AcPortal;\n}());\nexport { AcPortal as ac_portal };\n","/**\n * Extend a method functionality, applying monkeypatch method.\n * @link https://www.audero.it/blog/2016/12/05/monkey-patching-javascript/\n * @param target The target object.\n * @param method The name of the method that will be extended.\n * @param extend The method's patch.\n */\nfunction extendMethod(target, method, extend) {\n    var original = target[method];\n    target['__' + method + '__patch_list'] = target['__' + method + '__patches'] || [];\n    var patchList = target['__' + method + '__patch_list'];\n    patchList.push(extend);\n    target[method] = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var lastResult;\n        for (var _a = 0, patchList_1 = patchList; _a < patchList_1.length; _a++) {\n            var patch = patchList_1[_a];\n            lastResult = patch.bind(this)(original ? original.bind(this) : null, args);\n        }\n        return lastResult;\n    };\n}\n/**\n * Represents a Component's Behavior Modification.\n */\nvar ComponentBehavior = /** @class */ (function () {\n    function ComponentBehavior(component) {\n        var _this = this;\n        this.component = component;\n        if (this.beforeAttach) {\n            this.beforeAttach();\n        }\n        // Native Elements support\n        if (this.component.native) {\n            console.warn('Attaching a behavior to a native element', this.component);\n            this.component.host.remove = function () {\n                _this.component.componentDidUnload();\n                Element.prototype.remove.apply(_this.component.host);\n            };\n            setTimeout(function () { return _this.component.componentDidLoad(); }, 0);\n        }\n        extendMethod(this.component, 'componentDidLoad', function (componentDidLoad) {\n            if (componentDidLoad) {\n                componentDidLoad();\n            }\n            if (_this.attach) {\n                _this.attach();\n            }\n        });\n        extendMethod(this.component, 'componentDidUnload', function (componentDidUnload) {\n            if (componentDidUnload) {\n                componentDidUnload();\n            }\n            if (_this.detach) {\n                _this.detach();\n            }\n        });\n    }\n    return ComponentBehavior;\n}());\nexport { ComponentBehavior as C, extendMethod as e };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { C as ComponentBehavior, e as extendMethod } from './component-behavior-989d398a.js';\n/**\n * Implements a Portal logic, used to transfer VNode to a custom element by property.\n * This behavior will extend the default component's render function, rendering the VNode passed by the vchildren prop.\n */\nvar PortalBehavior = /** @class */ (function (_super) {\n    __extends(PortalBehavior, _super);\n    function PortalBehavior(component) {\n        var _this = _super.call(this, component) || this;\n        extendMethod(component, 'render', function (original) {\n            return component.customRender ? component.customRender(component.vchildren) : component.vchildren || original();\n        });\n        return _this;\n    }\n    return PortalBehavior;\n}(ComponentBehavior));\nexport { PortalBehavior as P };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { C as ComponentBehavior, e as extendMethod } from './component-behavior-989d398a.js';\nfunction cssDurationToMilis(duration) {\n    // Prevent errors with .xxx values\n    var time = duration.startsWith('.') ? '0' + duration : duration;\n    if (time.endsWith('ms')) {\n        return parseInt(time);\n    }\n    else {\n        return parseFloat(time) * 1000;\n    }\n}\n/**\n * Start an element animation pipeline.\n */\nfunction animate(element) {\n    /* @TODO: returns null in firefox even for elements with transition. */\n    var declaredTransition = window.getComputedStyle(element).transition.match(/\\.?\\d[ms]/g);\n    if (!declaredTransition) {\n        return new Promise(function (resolve) { return resolve({ element: element, duration: 0 }); });\n    }\n    var duration = 0;\n    declaredTransition.forEach(function (t) {\n        var dur = cssDurationToMilis(t);\n        duration = duration < dur ? dur : duration;\n    });\n    return new Promise(function (res) { return res({ element: element, duration: duration }); });\n}\n/**\n * Add inline style to this element.\n * @param style A style object to set in the element.\n */\nfunction addStyle(style) {\n    return function (_a) {\n        var element = _a.element, duration = _a.duration;\n        Object.assign(element.style, style);\n        return new Promise(function (res) { return res({ element: element, duration: duration }); });\n    };\n}\n/**\n * Wait the end of the transition.\n * @param delay An optional delay to add to the animation execution.\n */\nfunction wait(delay) {\n    if (delay === void 0) { delay = 0; }\n    return function (_a) {\n        var element = _a.element, duration = _a.duration;\n        return new Promise(function (res) { return setTimeout(function () { return res({ element: element, duration: duration }); }, duration + delay); });\n    };\n}\n/**\n * Implements hooks to control the transitions states, such as entering and leaving.\n * Useful for CSS animations. CSS classes are provided, controlled by it state:\n * - `transition--before-enter` The state before the component enters on the screen.\n * - `transition--after-enter` The state after the component enters on the screen.\n * - `transition--before-leave` The state before the component leave the screen.\n */\nvar TransitionBehavior = /** @class */ (function (_super) {\n    __extends(TransitionBehavior, _super);\n    function TransitionBehavior() {\n        var _this = _super.apply(this, arguments) || this;\n        _this.removeIsQueued = false;\n        return _this;\n    }\n    /**\n     * Applies a mokeypatch of componentWillLoad to add the transition hooks. Also, it dispatch the CSS transitions.\n     */\n    TransitionBehavior.prototype.beforeAttach = function () {\n        var _this = this;\n        extendMethod(this.component, 'componentWillLoad', function (componentWillLoad) { return __awaiter(_this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        this.component.host.classList.add('transition--before-enter');\n                        return [4 /*yield*/, animate(this.component.host).then(wait())];\n                    case 1:\n                        _a.sent();\n                        if (componentWillLoad) {\n                            return [2 /*return*/, componentWillLoad()];\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        }); });\n    };\n    /**\n     * Execute the componentWillEnter transition.\n     * Also, it applies a mokeypatch of the native Element#remove function to add the transition hooks.\n     */\n    TransitionBehavior.prototype.attach = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!this.component.componentWillEnter) return [3 /*break*/, 2];\n                        return [4 /*yield*/, this.component.componentWillEnter()];\n                    case 1:\n                        _a.sent();\n                        _a.label = 2;\n                    case 2:\n                        this.component.host.classList.replace('transition--before-enter', 'transition--after-enter');\n                        // Monkeypatch native Element#remove.\n                        // This function will wait for transitions.\n                        this.component.host.remove = this.customRemoveFn.bind(this);\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    TransitionBehavior.prototype.detach = function () { };\n    /**\n     * A custom remove teardown used to replace the native HTMLElement#remove, dispatching the CSS transitions.\n     */\n    TransitionBehavior.prototype.customRemoveFn = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var allChildren;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!!this.removeIsQueued) return [3 /*break*/, 5];\n                        this.removeIsQueued = true;\n                        allChildren = this.component.host.getElementsByClassName('transition--after-enter');\n                        return [4 /*yield*/, Promise.all(Array.from(allChildren).map(function (child) { return child.remove(); }))];\n                    case 1:\n                        _a.sent();\n                        this.component.host.classList.add('transition--before-leave');\n                        if (!this.component.componentWillLeave) return [3 /*break*/, 3];\n                        return [4 /*yield*/, this.component.componentWillLeave()];\n                    case 2:\n                        _a.sent();\n                        _a.label = 3;\n                    case 3: return [4 /*yield*/, animate(this.component.host).then(wait())];\n                    case 4:\n                        _a.sent();\n                        Element.prototype.remove.apply(this.component.host);\n                        _a.label = 5;\n                    case 5: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    return TransitionBehavior;\n}(ComponentBehavior));\nexport { TransitionBehavior as T, animate as a, addStyle as b };\n"],"sourceRoot":""}
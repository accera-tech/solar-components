(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{"../core/dist/esm-es5/ac-autocomplete.entry.js":function(e,t,i){"use strict";i.r(t),i.d(t,"ac_autocomplete",(function(){return p}));var n=i("../core/dist/esm-es5/core-15293804.js"),o=i("../core/dist/esm-es5/index.es-91b753a9.js"),s=i("../core/dist/esm-es5/ac-fa-icon-5572b693.js"),r=(i("../core/dist/esm-es5/_commonjsHelpers-97e6d7b1.js"),i("../core/dist/esm-es5/index-9d6ec8fb.js")),a=i("../core/dist/esm-es5/bind-6a1eab48.js"),c=(i("../core/dist/esm-es5/component-behavior-989d398a.js"),i("../core/dist/esm-es5/index-b4480df4.js"),i("../core/dist/esm-es5/async-data-behavior-99cb05e6.js")),l=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{c(n.next(e))}catch(t){s(t)}}function a(e){try{c(n.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}c((n=n.apply(e,t||[])).next())}))},u=function(e,t){var i,n,o,s,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(i)throw new TypeError("Generator is already executing.");for(;r;)try{if(i=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return r.label++,{value:s[1],done:!1};case 5:r.label++,n=s[1],s=[0];continue;case 7:s=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){r=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){r.label=s[1];break}if(6===s[0]&&r.label<o[1]){r.label=o[1],o=s;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(s);break}o[2]&&r.ops.pop(),r.trys.pop();continue}s=t.call(e,r)}catch(a){s=[6,a],n=0}finally{i=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},h=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},p=function(){function e(e){Object(n.h)(this,e),this.noResultsLabel="No results for",this.options=[],this.isPanelOpen=!1,this.asyncDataBehavior=new c.a(this),this.formFieldBehavior=new r.a(this),this.requestCheckValidity=!1,this.SelectPanel=Object(c.c)(Object(c.d)("ac-panel-controller")),this.focusBehavior=new c.b(this),this.selectChange=Object(n.e)(this,"selectChange",7)}return e.prototype.errorDidUpdate=function(e){e?(this.acInputBase.error=!0,this.formFieldBehavior.setInvalid()):(this.acInputBase.error=!1,this.formFieldBehavior.setValid())},e.prototype.getFormFieldBehavior=function(){return l(this,void 0,void 0,(function(){return u(this,(function(e){return[2,this.formFieldBehavior]}))}))},e.prototype.handleSelected=function(e){this.selectedText=e.title,this.value=e.value,this.requestCheckValidity=!0,this.formFieldBehavior.setDirty(),this.filter=null,this.isPanelOpen=!1},e.prototype.handleDebouncedKeyUp=function(e){return l(this,void 0,void 0,(function(){var t;return u(this,(function(i){return t=e.target.value,this.filter=t,this.asyncDataBehavior.executeFetch(),[2]}))}))},e.prototype.getFetchParams=function(){return{filter:this.filter}},e.prototype.isShowingPanelDidUpdate=function(){this.hasFocus=this.isPanelOpen},e.prototype.whenReceiveData=function(e){this.options=e.data,this.isPanelOpen=!0},e.prototype.componentDidUpdate=function(){this.requestCheckValidity&&(this.formFieldBehavior.checkValidity(this.value),this.requestCheckValidity=!1,this.selectChange.emit(this.value))},e.prototype.whenBlur=function(e){var t=this;this.selectPanel.contains(e)||(this.isPanelOpen&&(this.isPanelOpen=!this.isPanelOpen),!1===this.requestCheckValidity&&!1===this.isPanelOpen&&(this.options.some((function(e){return e.title.toString().toUpperCase().includes(t.acInputBase.value.toUpperCase())}))||(this.acInputBase.value="")),this.formFieldBehavior.setTouched())},e.prototype.componentDidUnload=function(){this.isPanelOpen=!1},e.prototype.render=function(){var e=this,t=this.SelectPanel;return Object(n.g)(n.b,{class:"ac-autocomplete"},Object(n.g)("ac-input-base",{ref:function(t){return e.acInputBase=t},class:"ac-autocomplete__input",name:this.name,disabled:this.disabled,type:"text",label:this.label,value:this.selectedText,onKeyUp:this.handleDebouncedKeyUp,size:this.size},this.loading&&Object(n.g)(s.a,{slot:"item-end",class:"ac-autocomplete__icon",icon:o.f,size:14,anim:"spin"})),Object(n.g)(t,{ref:function(t){return e.selectPanel=t},class:"ac-autocomplete__panel",popperPivot:this.host,reset:!this.isPanelOpen},Object(n.g)("ul",{class:"ac-autocomplete__list ac-list"},0===this.options.length?Object(n.g)("li",{class:"ac-list__item"},this.noResultsLabel," ",this.filter):this.options.map((function(t,i){return Object(n.g)("li",{class:"ac-list__item",key:i,tabIndex:i,value:t.value,onClick:function(){return e.handleSelected(t)}},t.title)})))))},Object.defineProperty(e.prototype,"host",{get:function(){return Object(n.f)(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"watchers",{get:function(){return{error:["errorDidUpdate"],isPanelOpen:["isShowingPanelDidUpdate"]}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return".ac-autocomplete{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}.ac-autocomplete .ac-autocomplete__icon{margin:8px}"},enumerable:!0,configurable:!0}),e}();h([a.a],p.prototype,"handleSelected",null),h([a.a,Object(n.a)(200)],p.prototype,"handleDebouncedKeyUp",null)}}]);
//# sourceMappingURL=58.6d445a45a6a07a19ead4.js.map
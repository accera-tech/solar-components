{"version":3,"sources":["/home/runner/work/solar-components/solar-components/core/dist/esm-es5/ac-select.entry.js"],"names":["__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","Symbol","iterator","this","n","v","op","TypeError","call","pop","length","push","__spreadArrays","s","i","il","arguments","r","Array","k","a","j","jl","__decorate","decorators","target","key","desc","d","c","Object","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","AcSelect","class_1","hostRef","SelectPanel","focusBehavior","formFieldBehavior","asyncDataBehavior","noResultsLabel","searchHelperLabel","selectChange","prototype","valueDidUpdate","newValue","oldValue","formatSelectedText","optionsDidUpdate","newOptions","oldOptions","selectedOptions","filter","o","selected","map","multiple","isShowingPanelDidUpdate","options","selectedText","hasFocus","isShowingPanel","errorDidUpdate","error","acInputBase","setInvalid","setValid","filterDidUpdate","_this","fetch","executeFetch","filteredOptions","title","toLowerCase","indexOf","getNativeFormField","_a","nativeSelect","getSelectedOptions","getOptionsByValue","setValue","values","requestCheckValidity","setDirty","forEach","includes","setInitialOption","option","optionArr","assign","getFormFieldBehavior","whenBlur","element","selectPanel","contains","togglePanel","setTouched","whenReceiveData","metaData","data","getFetchParams","componentDidLoad","loadOptionsFromHTML","componentDidUnload","closePanel","componentDidUpdate","checkValidity","emit","count","total","separator","item","join","childOptions","host","querySelectorAll","mappedOptions","tagName","text","hasAttribute","group","parentElement","renderNativeOptions","valueAsArray","opt","renderOptions","class","onClick","handleSelect","searchable","loading","setFocus","openPanel","selectedIndex","findIndex","index","handleDebouncedKeyUp","nativeInput","getNativeInput","handleChangeInput","render","icon","optionsToRender","ref","name","disabled","type","required","onFocus","onChange","readonly","onKeyUp","size","slot","theme","fill","helperText","popperPivot","reset","style","maxHeight","MAX_ITEMS_TO_RENDER","ITEM_HEIGHT","get","enumerable","configurable"],"mappings":"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","file":"static/js/89.e5a5acdf.js","sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { r as registerInstance, c as createEvent, h, H as Host, g as getElement } from './index-3d340c10.js';\nimport { D as Debounced } from './reactivity-405a1945.js';\nimport './component-behavior-a1704b91.js';\nimport { A as AsyncDataBehavior } from './async-data-behavior-1c123f7e.js';\nimport { c as createControllerPortal, e as ensureController } from './ensure-controller-ac10990b.js';\nimport { e as equals, a as isEmpty } from './index-5a65ff45.js';\nimport { B as Bind } from './bind-43838568.js';\nimport './_commonjsHelpers-97e6d7b1.js';\nimport './browser-c2ce94f2.js';\nimport { F as FocusBehavior } from './focus-behavior-ee11cb33.js';\nimport { F as FormFieldBehavior, t as toArray } from './index-5c7685cc.js';\nimport { A as AcFaIcon } from './ac-fa-icon-8118e60e.js';\nimport { b as faChevronUp, c as faChevronDown } from './index.es-652be552.js';\nvar acSelectCss = \"ac-select{display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:column;flex-direction:column}ac-select>[slot=item-top],ac-select>[slot=item-bottom]{display:none !important}ac-select .ac-select__helper-text{display:block;margin-top:8px;color:var(--color-neutral-darker, #646464);font-size:12px}ac-select .ac-select__native,ac-select .ac-select__phantom-dom{display:none}ac-select.form-field--invalid .ac-select__helper-text{color:var(--color-alert-normal, #F0000A)}ul.ac-select__list::-webkit-scrollbar{width:8px;height:8px}ul.ac-select__list::-webkit-scrollbar-track{background:rgba(var(--color-theme-contrast-rgb, 17, 17, 17), 0.2)}ul.ac-select__list::-webkit-scrollbar-thumb{background:rgba(var(--color-theme-contrast-rgb, 17, 17, 17), 0.3)}ul.ac-select__list::-webkit-scrollbar-thumb:hover{background:rgba(var(--color-theme-contrast-rgb, 17, 17, 17), 0.4)}\";\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar AcSelect = /** @class */ (function () {\n    function class_1(hostRef) {\n        registerInstance(this, hostRef);\n        this.SelectPanel = createControllerPortal(ensureController('ac-panel-controller'));\n        /**\n         * The instance of the FocusBehavior used to close the panel when the user clicks outside.\n         */\n        this.focusBehavior = new FocusBehavior(this);\n        /**\n         * The instance of the FormFieldBehavior.\n         */\n        this.formFieldBehavior = new FormFieldBehavior(this);\n        /**\n         * The instance of the AsyncDataBehavior used to control async data features.\n         */\n        this.asyncDataBehavior = new AsyncDataBehavior(this);\n        /**\n         * Set the custom empty result text.\n         */\n        this.noResultsLabel = 'No results for';\n        /**\n         * Set the custom search helper text.\n         */\n        this.searchHelperLabel = 'Use the field to search';\n        this.selectChange = createEvent(this, \"selectChange\", 7);\n    }\n    class_1.prototype.valueDidUpdate = function (newValue, oldValue) {\n        if (!equals(newValue, []) && !equals(newValue, oldValue)) {\n            // Build the formatted text when the value change.\n            this.formatSelectedText();\n        }\n    };\n    class_1.prototype.optionsDidUpdate = function (newOptions, oldOptions) {\n        if (newOptions) {\n            var selectedOptions = newOptions.filter(function (o) { return o.selected; }); // Get all selected\n            if (selectedOptions.length > 0) {\n                var value = selectedOptions.map(function (o) { return o.value; });\n                this.value = this.multiple ? value : value[0]; // Array to a single value for Single select\n            }\n            else {\n                // @TODO: Use defaultValue/initialValue property.\n                this.value = !oldOptions ? this.value : null;\n            }\n        }\n        // Forcing update the value whatever it takes.\n        this.formatSelectedText();\n    };\n    class_1.prototype.isShowingPanelDidUpdate = function () {\n        if (this.options.length === 0) {\n            this.selectedText = null;\n        }\n        this.hasFocus = this.isShowingPanel;\n    };\n    class_1.prototype.errorDidUpdate = function (error) {\n        if (error) {\n            this.acInputBase.error = true;\n            this.formFieldBehavior.setInvalid();\n        }\n        else {\n            this.acInputBase.error = false;\n            this.formFieldBehavior.setValid();\n        }\n    };\n    class_1.prototype.filterDidUpdate = function () {\n        var _this = this;\n        if (this.filter) {\n            if (this.fetch) {\n                this.asyncDataBehavior.executeFetch();\n            }\n            else {\n                this.filteredOptions = this.options.filter(function (o) { return o.title\n                    .toLowerCase()\n                    .indexOf(_this.filter.toLowerCase()) > -1; });\n            }\n        }\n        else {\n            this.filteredOptions = null;\n        }\n    };\n    class_1.prototype.getNativeFormField = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this.nativeSelect];\n            });\n        });\n    };\n    class_1.prototype.getSelectedOptions = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this.getOptionsByValue(this.value)];\n            });\n        });\n    };\n    class_1.prototype.setValue = function (values) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                this.value = values;\n                this.requestCheckValidity = true;\n                this.formFieldBehavior.setDirty();\n                if (values instanceof Array) {\n                    this.options.forEach(function (o) {\n                        o.selected = values.includes(o.value);\n                    });\n                }\n                else {\n                    this.options.forEach(function (o) {\n                        o.selected = values === o.value;\n                    });\n                }\n                this.options = __spreadArrays(this.options);\n                return [2 /*return*/];\n            });\n        });\n    };\n    class_1.prototype.setInitialOption = function (option) {\n        return __awaiter(this, void 0, void 0, function () {\n            var optionArr;\n            return __generator(this, function (_a) {\n                optionArr = toArray(option);\n                this.options = optionArr.map(function (o) { return (Object.assign(Object.assign({}, o), { selected: true })); });\n                return [2 /*return*/];\n            });\n        });\n    };\n    class_1.prototype.getFormFieldBehavior = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this.formFieldBehavior];\n            });\n        });\n    };\n    /**\n     * Toggle the panel view.\n     */\n    class_1.prototype.whenBlur = function (element) {\n        // If the target element is'nt a child of the panel.\n        if (!this.selectPanel.contains(element)) {\n            if (this.isShowingPanel) {\n                this.togglePanel();\n            }\n            this.formFieldBehavior.setTouched();\n        }\n    };\n    class_1.prototype.whenReceiveData = function (metaData) {\n        this.filteredOptions = metaData.data;\n        this.options = metaData.data;\n    };\n    class_1.prototype.getFetchParams = function () {\n        return { filter: this.filter };\n    };\n    class_1.prototype.componentDidLoad = function () {\n        if (!this.options) {\n            this.loadOptionsFromHTML();\n        }\n        else {\n            this.optionsDidUpdate(this.options, null);\n        }\n    };\n    class_1.prototype.componentDidUnload = function () {\n        this.closePanel();\n    };\n    class_1.prototype.componentDidUpdate = function () {\n        // Forcing clear the value\n        this.nativeSelect.value = this.value ? this.nativeSelect.value : '';\n        if (this.requestCheckValidity) {\n            this.formFieldBehavior.checkValidity(this.value);\n            this.requestCheckValidity = false;\n            this.selectChange.emit(this.value);\n        }\n    };\n    /**\n     * Filter the options by the actual value. Used to update the options state by an external value update.\n     */\n    class_1.prototype.getOptionsByValue = function (values) {\n        var options = [];\n        if (this.options && values) {\n            if (values instanceof Array) {\n                this.options.forEach(function (o) {\n                    if (values.includes(o.value)) {\n                        options.push(o);\n                    }\n                });\n            }\n            else {\n                this.options.forEach(function (o) {\n                    if (values === o.value) {\n                        options.push(o);\n                    }\n                });\n            }\n        }\n        return options;\n    };\n    /**\n     * Generate the selectedText based on the selected options.\n     */\n    class_1.prototype.formatSelectedText = function () {\n        var selectedOptions = this.getOptionsByValue(this.value);\n        if (this.options) {\n            var count = selectedOptions.length;\n            var total = this.options.filter(function (o) { return !o.separator; }).length;\n            if (count > 0 && count < 3) {\n                this.selectedText = selectedOptions.map(function (item) { return item.title; }).join(', ');\n            }\n            else if (count > 2 && count < total) {\n                this.selectedText = count + \" \" + this.label;\n            }\n            else if (count === total && count !== 0) {\n                this.selectedText = \"Todos (\" + count + \")\";\n            }\n        }\n    };\n    /**\n     * Load the options elements from the children HTML.\n     */\n    class_1.prototype.loadOptionsFromHTML = function () {\n        var childOptions = this.host.querySelectorAll('option, optgroup');\n        var mappedOptions = Array.prototype.map.call(childOptions, function (o) { return ({\n            title: o.tagName === 'OPTGROUP' ? o.label : o.text,\n            value: o.value,\n            selected: o.hasAttribute('selected') && o.selected,\n            separator: o.tagName === 'OPTGROUP',\n            group: o.parentElement.tagName === 'OPTGROUP' ? o.parentElement.label : null\n        }); });\n        // Prevent initializing with empty array\n        // @LESSON: Do not use ternary operator because it will cause a component rerender.\n        if (mappedOptions.length > 0) {\n            this.options = mappedOptions;\n        }\n    };\n    class_1.prototype.renderNativeOptions = function () {\n        var valueAsArray = this.value ?\n            this.value instanceof Array ? this.value : [this.value]\n            : [];\n        return this.options.map(function (opt) {\n            if (!opt.separator) {\n                return (h(\"option\", { selected: valueAsArray.includes(opt.value), value: opt.value }, opt.title));\n            }\n        });\n    };\n    class_1.prototype.renderOptions = function (options) {\n        var _this = this;\n        if (!options) {\n            if (this.searchable) {\n                return (h(\"li\", { class: \"ac-list__helper-item\" }, this.searchHelperLabel));\n            }\n            return null;\n        }\n        if (options.length > 0) {\n            return options.map(function (item) {\n                if (item.separator) {\n                    return (h(\"li\", { class: \"ac-list__separator\" }, h(\"span\", { class: \"ac-list__separator-title\" }, item.title), h(\"span\", { class: \"ac-list__separator-line\" })));\n                }\n                else {\n                    return (h(\"li\", { class: 'ac-list__item ' + (item.selected ? 'ac-list__item--selected' : ''), onClick: function () { return _this.handleSelect(item); } }, item.title));\n                }\n            });\n        }\n        else {\n            return (h(\"li\", { class: \"ac-list__helper-item\" }, this.noResultsLabel, \" \", this.filter));\n        }\n    };\n    /**\n     * Toggle the panel.\n     */\n    class_1.prototype.togglePanel = function () {\n        if (!this.loading && !this.isShowingPanel) {\n            this.acInputBase.setFocus();\n        }\n        else {\n            this.closePanel();\n        }\n    };\n    /**\n     * Open the panel.\n     */\n    class_1.prototype.openPanel = function () {\n        this.isShowingPanel = true;\n    };\n    /**\n     * Close the panel.\n     */\n    class_1.prototype.closePanel = function () {\n        this.isShowingPanel = false;\n    };\n    /**\n     * A listener that is dispatched when the user click on a select's option.\n     */\n    class_1.prototype.handleSelect = function (item) {\n        var selectedIndex = this.options.findIndex(function (o) { return o.value === item.value; });\n        if (this.multiple) {\n            this.options[selectedIndex].selected = !item.selected; // Check the current selected\n        }\n        else {\n            if (!item.selected) {\n                this.options.forEach(function (o, index) {\n                    o.selected = index === selectedIndex; // Check only the new selected item\n                });\n            }\n        }\n        this.options = __spreadArrays(this.options); // Dispatch options update\n        this.isShowingPanel = this.multiple; // Close only if it's a single select\n        this.requestCheckValidity = true;\n        this.formFieldBehavior.setDirty();\n        this.filter = null;\n    };\n    class_1.prototype.handleDebouncedKeyUp = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var nativeInput;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.acInputBase.getNativeInput()];\n                    case 1:\n                        nativeInput = _a.sent();\n                        this.filter = nativeInput.value;\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    class_1.prototype.handleChangeInput = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var nativeInput;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.acInputBase.getNativeInput()];\n                    case 1:\n                        nativeInput = _a.sent();\n                        if (isEmpty(nativeInput.value)) {\n                            this.options = [];\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    class_1.prototype.render = function () {\n        var _this = this;\n        var icon = this.isShowingPanel ? faChevronUp : faChevronDown;\n        var SelectPanel = this.SelectPanel;\n        var optionsToRender = this.filteredOptions || this.options;\n        return h(Host, null, h(\"div\", { class: \"ac-select__phantom-dom\" }, h(\"slot\", null)), h(\"select\", { ref: function (nativeSelect) { return _this.nativeSelect = nativeSelect; }, name: this.name, multiple: this.multiple,\n            // required={this.required} TODO: Review chrome canÂ´t focus element some times need refactor: Critical\n            disabled: this.disabled, class: \"ac-select__native\", \"data-native\": true }, this.options && this.renderNativeOptions()), h(\"ac-input-base\", { ref: function (acInputBase) {\n                _this.acInputBase = acInputBase;\n            }, label: this.label, type: \"text\", required: this.required, value: this.selectedText, onFocus: this.openPanel, onChange: this.handleChangeInput, disabled: this.disabled, readonly: !this.searchable, onKeyUp: this.searchable ? this.handleDebouncedKeyUp : null, size: this.size }, h(\"slot\", { name: \"item-start\", slot: \"item-start\" }), h(\"slot\", { name: \"input-label\", slot: \"input-label\" }), h(\"ac-button\", { slot: \"item-end\", theme: this.isShowingPanel ? 'primary' : 'light', fill: \"flat\", disabled: this.disabled, loading: this.loading, onClick: this.togglePanel, \"icon-only\": true }, h(AcFaIcon, { icon: icon, size: 12 }))), (this.error && typeof this.error === 'string') || (this.helperText && typeof this.helperText === 'string')\n            ? h(\"span\", { class: \"ac-select__helper-text\" }, this.error || this.helperText)\n            : null, h(SelectPanel, { ref: function (selectPanel) { return _this.selectPanel = selectPanel; }, class: \"ac-select__panel\", popperPivot: this.host, reset: !this.isShowingPanel }, h(\"slot\", { name: \"item-top\", slot: \"item-top\" }), h(\"ul\", { class: 'ac-select__list ac-list', style: { maxHeight: AcSelect.MAX_ITEMS_TO_RENDER * AcSelect.ITEM_HEIGHT + 'px' } }, this.renderOptions(optionsToRender)), h(\"slot\", { name: \"item-bottom\", slot: \"item-bottom\" })));\n    };\n    Object.defineProperty(class_1.prototype, \"host\", {\n        get: function () { return getElement(this); },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(class_1, \"watchers\", {\n        get: function () {\n            return {\n                \"value\": [\"valueDidUpdate\"],\n                \"options\": [\"optionsDidUpdate\"],\n                \"isShowingPanel\": [\"isShowingPanelDidUpdate\"],\n                \"error\": [\"errorDidUpdate\"],\n                \"filter\": [\"filterDidUpdate\"]\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return class_1;\n}());\n/**\n * The count of max items to render in the select list, used to calculate the size of the panel.\n */\nAcSelect.MAX_ITEMS_TO_RENDER = 10;\n/**\n * The height of each item to render, used to calculate the size of the panel.\n */\nAcSelect.ITEM_HEIGHT = 30;\n__decorate([\n    Bind\n], AcSelect.prototype, \"togglePanel\", null);\n__decorate([\n    Bind\n], AcSelect.prototype, \"openPanel\", null);\n__decorate([\n    Bind\n], AcSelect.prototype, \"closePanel\", null);\n__decorate([\n    Bind\n], AcSelect.prototype, \"handleSelect\", null);\n__decorate([\n    Bind,\n    Debounced(200)\n], AcSelect.prototype, \"handleDebouncedKeyUp\", null);\n__decorate([\n    Bind\n], AcSelect.prototype, \"handleChangeInput\", null);\nAcSelect.style = acSelectCss;\nexport { AcSelect as ac_select };\n"],"sourceRoot":""}